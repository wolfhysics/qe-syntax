{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "QE Input",
	"patterns": [
		{
			"include": "#namelist-control"
		},
		{
			"include": "#card-atomic_species"
		},
		{
			"include": "#card-atomic_positions"
		},
		{
			"include": "#card-cell_parameters"
		},
		{
			"include": "#card-k_points"
		}
	],
	"repository": {
		"namelist-control": {
			"patterns": [{
				"begin": "^\\s*&(?i)CONTROL\\s*$",
				"beginCaptures": {
					"0": { "name": "entity.name.tag.header.namelist-control.pwx.espresso-in" }
				},
				"end": "^\\s*\/\\s*$",
				"name": "entity.name.tag.content.namelist-control.pwx.espresso-in"
			}]
		},
		"card-atomic_species": {
			"patterns": [{
				"begin": "^\\s*(?i)atomic_species\\s*$",
				"beginCaptures": {
					"0": { "name": "entity.name.tag.header.card-atomic_species.pwx.espresso-in" }
				},
				"while": "(^\\s*)(H|He|Li|Be|B|C|N|O|F|Ne|Na|Mg|Al|Si|P|S|Cl|Ar|K|Ca|Sc|Ti|V|Cr|Mn|Fe|Co|Ni|Cu|Zn|Ga|Ge|As|Se|Br|Kr|Rb|Sr|Y|Zr|Nb|Mo|Tc|Ru|Rh|Pd|Ag|Cd|In|Sn|Sb|Te|I|Xe|Cs|Ba|La|Ce|Pr|Nd|Pm|Sm|Eu|Gd|Tb|Dy|Ho|Er|Tm|Yb|Lu|Hf|Ta|W|Re|Os|Ir|Pt|Au|Hg|Tl|Pb|Bi|Po|At|Rn|Fr|Ra|Ac|Th|Pa|U|Np|Pu|Am|Cm|Bk|Cf|Es|Fm|Md|No|Lr|Rf|Db|Sg|Bh|Hs|Mt|Ds|Rg|Cn|Nh|Fl|Mc|Lv|Ts|Og)(\\s+)(\\d+\\.?\\d*)(\\s+)((?=.*\\w).+)(\\s*$)",
				"whileCaptures": {
					"2": { "name": "entity.other.attribute.atom-symbol.card-atomic_species.pwx.espresso-in" },
					"4": { "name": "constant.numeric.atom-mass.card-atomic_species.pwx.espresso-in" },
					"6": { "name": "string.pseudopot.card-atomic_species.pwx.espresso-in" }
				}
			}]
		},
		"card-atomic_positions": {
			"patterns": [{
				"begin": "(^\\s*)((?i)atomic_positions)(\\s(\\{(?=\\w*\\})|\\((?=\\w*\\)))(alat|bohr|angstrom|crystal|crystal_sg)(\\}|\\)))?\\s*$",
				"beginCaptures": {
					"0": { "name": "entity.name.tag.header.card-atomic_positions.pwx.espresso-in" },
					"5": { "name": "entity.other.attribute.unit.card-atomic_positions.pwx.espresso-in" }
				},
				"while": "(^\\s*)(H|He|Li|Be|B|C|N|O|F|Ne|Na|Mg|Al|Si|P|S|Cl|Ar|K|Ca|Sc|Ti|V|Cr|Mn|Fe|Co|Ni|Cu|Zn|Ga|Ge|As|Se|Br|Kr|Rb|Sr|Y|Zr|Nb|Mo|Tc|Ru|Rh|Pd|Ag|Cd|In|Sn|Sb|Te|I|Xe|Cs|Ba|La|Ce|Pr|Nd|Pm|Sm|Eu|Gd|Tb|Dy|Ho|Er|Tm|Yb|Lu|Hf|Ta|W|Re|Os|Ir|Pt|Au|Hg|Tl|Pb|Bi|Po|At|Rn|Fr|Ra|Ac|Th|Pa|U|Np|Pu|Am|Cm|Bk|Cf|Es|Fm|Md|No|Lr|Rf|Db|Sg|Bh|Hs|Mt|Ds|Rg|Cn|Nh|Fl|Mc|Lv|Ts|Og)(\\s+)(\\-?\\d+\\.?\\d*)(\\s+)(\\-?\\d+\\.?\\d*)(\\s+)(\\-?\\d+\\.?\\d*)(\\s*$|\\s+[01]\\s+[01]\\s+[01]\\s*$)",
				"whileCaptures": {
					"2": { "name": "entity.other.attribute.atom-symbol.card-atomic_positions.pwx.espresso-in" },
					"4": { "name": "constant.numeric.atom-position.x-component.card-atomic_positions.pwx.espresso-in" },
					"6": { "name": "constant.numeric.atom-position.y-component.card-atomic_positions.pwx.espresso-in" },
					"8": { "name": "constant.numeric.atom-position.z-component.card-atomic_positions.pwx.espresso-in" },
					"9": { "name": "entity.other.attribute.freeze-position.card-atomic_positions.pwx.espresso-in" }
				}
			}]
		},
		"card-cell_parameters": {
			"patterns": [{
				"begin": "(^\\s*)((?i)cell_parameters)(\\s(\\{(?=\\w*\\})|\\((?=\\w*\\)))(alat|bohr|angstrom)(\\}|\\)))?\\s*$",
				"beginCaptures": {
					"0": { "name": "entity.name.tag.header.card-cell_parameters.pwx.espresso-in" },
					"5": { "name": "entity.other.attribute.unit.card-cell_parameters.pwx.espresso-in" }
				},
				"while": "(^\\s*)(\\-?\\d+\\.?\\d*)(\\s+)(\\-?\\d+\\.?\\d*)(\\s+)(\\-?\\d+\\.?\\d*)(\\s*$)",
				"whileCaptures": {
					"2": { "name": "constant.numeric.lattice-vector.x-component.card-cell_parameters.pwx.espresso-in" },
					"4": { "name": "constant.numeric.lattice-vector.y-component-mass.card-cell_parameters.pwx.espresso-in" },
					"6": { "name": "constant.numeric.lattice-vector.z-component-mass.card-cell_parameters.pwx.espresso-in" }
				}
			}]
		},
		"card-k_points": {
			"patterns": [
				{
					"begin": "(^\\s*)((?i)k_points)(\\s(\\{(?=\\w*\\})|\\((?=\\w*\\))|(?![\\{\\(]))(tpiba|crystal|tpiba_b|crystal_b|tpiba_c|crystal_c)(\\}|\\)|))\\s*$",
					"beginCaptures": {
						"0": { "name": "entity.name.tag.header.card-k_points.pwx.espresso-in" },
						"5": { "name": "entity.other.attribute.type.card-k_points.pwx.espresso-in" }
					},
					"while": "(^\\s*)(\\d*\\s*$|(\\-?\\d*\\.?\\d*)(\\s+)(\\-?\\d*\\.?\\d*)(\\s+)(\\-?\\d*\\.?\\d*)(\\s+)(\\d*\\.?\\d*)(\\s*$))",
					"whileCaptures": {
						"2": { "name": "constant.numeric.value.card-k_points.pwx.espresso-in" }
					}
				},
				{
					"begin": "(^\\s*)((?i)k_points)(\\s(\\{(?=\\w*\\})|\\((?=\\w*\\))|(?![\\{\\(]))(automatic)(\\}|\\)|))\\s*$",
					"beginCaptures": {
						"0": { "name": "entity.name.tag.header.card-k_points.pwx.espresso-in" },
						"5": { "name": "entity.other.attribute.type.card-k_points.pwx.espresso-in" }
					},
					"end": "(^\\s*)(\\d+)(\\s+)(\\d+)(\\s+)(\\d+)(\\s+)([01])(\\s+)([01])(\\s+)([01])(\\s*$)",
					"endCaptures": {
						"2": { "name": "constant.numeric.value.monkhorst-pack-grid.card-k_points.pwx.espresso-in" },
						"4": { "name": "constant.numeric.value.monkhorst-pack-grid.card-k_points.pwx.espresso-in" },
						"6": { "name": "constant.numeric.value.monkhorst-pack-grid.card-k_points.pwx.espresso-in" },
						"8": { "name": "entity.other.attribute.shift.monkhorst-pack-grid.card-k_points.pwx.espresso-in" },
						"10": { "name": "entity.other.attribute.shift.monkhorst-pack-grid.card-k_points.pwx.espresso-in" },
						"12": { "name": "entity.other.attribute.shift.monkhorst-pack-grid.card-k_points.pwx.espresso-in" }
					}
				},
				{
					"begin": "(^\\s*)((?i)k_points)(\\s(\\{(?=\\w*\\})|\\((?=\\w*\\))|(?![\\{\\(]))(gamma)(\\}|\\)|))\\s*$",
					"beginCaptures": {
						"0": { "name": "entity.name.tag.header.card-k_points.pwx.espresso-in" },
						"5": { "name": "entity.other.attribute.type.card-k_points.pwx.espresso-in" }
					}
				}
			]
		}
	},
	"scopeName": "source.espresso-in"
}